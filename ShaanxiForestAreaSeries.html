<!DOCTYPE html>
<html style="height: 100%">
	<head>
		<meta charset="utf-8">
	</head>
	<body style="height: 100%; margin: 0; botton:'85%">
		<div id="container" style="height: 100% "></div>
		<script type="text/javascript"
			src="https://cdn.jsdelivr.net/npm/echarts-nightly@5.1.2-dev.20210512/dist/echarts.min.js"></script>
		<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-stat@latest/dist/ecStat.min.js">
		</script>
		<script type="text/javascript">
			var dom = document.getElementById("container");
			var myChart = echarts.init(dom);
			var app = {};
			var option;
			echarts.registerTransform(ecStat.transform.regression);
			var data = [
				[2001, 592.03],
				[2004, 636.81],
				[2007, 767.565],
				[2010, 853.24],
				[2014, 887],
				[2018, 887]
			];
			option = {
				dataset: [{
					source: data
				}, {
					transform: {
						type: 'ecStat:regression',
					}
				}],
				title: {
					text: '陕西省森林面积变化',
					subtext: '数据来源：《陕西统计年鉴》',
					left: 'center'
				},
				legend: {
					bottom: '85%'
				},
				tooltip: {
					trigger: 'axis',
					axisPointer: {
						type: 'cross'
					}
				},
				toolbox: {
					feature: {
						saveAsImage: {}
					}
				},
				xAxis: {
					min: 2000,
					axisLabel: {
						formatter: '{value}年',
						interval: 0
					}
				},
				yAxis: {
					name: '（万公顷）'
				},
				series: [{
					name: '陕西省森林面积（万公顷）',
					type: 'bar',
					barWidth: 30,
					color: "#97B8D9"
				}, {
					name: '线性回归拟合',
					type: 'line',
					color: "#1f77c3",
					datasetIndex: 1,
					symbolSize: 1,
					symbol: 'circle',
					label: {
						show: true,
						fontSize: 16
					},
					labelLayout: {
						dx: -20
					},
					encode: {
						label: 2,
						tooltip: 1
					}
				}]
			};

			if (option && typeof option === 'object') {
				myChart.setOption(option);
			}
		</script>
	</body>

</html>
